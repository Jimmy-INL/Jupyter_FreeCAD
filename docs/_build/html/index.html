
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Welcome to IPythonFreeCADViewer’s documentation! &#8212; IPythonFreeCADViewer  documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="welcome-to-ipythonfreecadviewer-s-documentation">
<h1>Welcome to IPythonFreeCADViewer’s documentation!<a class="headerlink" href="#welcome-to-ipythonfreecadviewer-s-documentation" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
</div>
<div class="section" id="freecad-inside-jupyter-notebook">
<h1>FreeCAD inside Jupyter Notebook<a class="headerlink" href="#freecad-inside-jupyter-notebook" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<div class="section" id="a-better-ipython-and-jupyter-notebook-integration-for-freecad">
<h3>A better IPython and Jupyter Notebook Integration for FreeCAD<a class="headerlink" href="#a-better-ipython-and-jupyter-notebook-integration-for-freecad" title="Permalink to this headline">¶</a></h3>
<p>Currently, FreeCAD’s IPython and Jupyter Notebook integration can only provide visualization by running the entire FreeCAD GUI alongside the notebook. Besides not being elegant it brings many problems with it, like not being able to save the visualizations inside the notebook for sharing or bringing visual complexity of the entire GUI into the view instead of just displaying the 3D model. It is therefore important to find a way to visualize FreeCAD’s 3D scene in the IPython display system as supported by Jupyter Notebook.</p>
<p>Tackling the open issue “IPython / Jupyter support” I aim to implement a IPython compatible visualization of FreeCAD’s 3D Open Inventor scene graph. To achieve this I intend to choose a suitable JavaScript library able to render a 3D scene graph and to implement a mapping between it and the Open Inventor scene graph. After this as a byproduct I want to implement a better WebGL export based on the scene graph instead of document objects as currently found in FreeCAD. For this I can reuse and integrate the scene graph mapping component. Lastly I want to document the results in the Wiki and create an example Jupyter notebook.</p>
<p>This project is part of <a class="reference external" href="https://summerofcode.withgoogle.com/projects/#6095514577141760">Google Summer of Code 2020</a> and the corresponding thread in the FreeCAD forum can be found <a class="reference external" href="https://forum.freecadweb.org/viewtopic.php?f=8&amp;t=46039">here</a>. I wrote a blog post about the project <a class="reference external" href="https://kryptokommun.ist/tech/2020/08/31/google-summer-of-code.html">here</a>. My full project proposal can be found <a class="reference external" href="https://docs.google.com/document/d/1VgfsD06Qvb87S-tQazfTsyYTp14Z3EjF4V9puPVNCTQ/edit">here</a>.</p>
</div>
<div class="section" id="demo">
<h3>Demo<a class="headerlink" href="#demo" title="Permalink to this headline">¶</a></h3>
<p>Check out <a class="reference external" href="https://kryptokommun.ist/google-summer-of-code-2020">this static demo notebook</a>, it gives an idea about the functionality even though selection and other interactivity is missing.</p>
</div>
<div class="section" id="current-state">
<h3>Current state<a class="headerlink" href="#current-state" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">freecadviewer</span></code> module was only tested with basic shapes from the <code class="docutils literal notranslate"><span class="pre">Part</span></code> workbench so far. It’s something to build on. There are some open problems for which I didn’t have time before the GSoC deadline (see <code class="docutils literal notranslate"><span class="pre">TODO</span></code> in source):</p>
<ul class="simple">
<li><p>highlighting of edges does not work (reason unclear, I couldn’t find the error)</p></li>
<li><p>displaying the object names</p></li>
<li><p>showing vertices</p></li>
<li><p>typing the document object</p></li>
<li><p>fixed light source instead of the lightsource moving with rotation</p></li>
</ul>
</div>
<div class="section" id="future-work">
<h3>Future work<a class="headerlink" href="#future-work" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>expanding the viewer to more FreeCAD workbenches with different scene graph structure</p></li>
<li><p>more advanced rotation and navigation</p></li>
<li><p>implementing the so much functionality in Javascript that selection will work on a static page</p></li>
</ul>
</div>
</div>
<div class="section" id="how-to">
<h2>How to<a class="headerlink" href="#how-to" title="Permalink to this headline">¶</a></h2>
<div class="section" id="local-install">
<h3>Local install<a class="headerlink" href="#local-install" title="Permalink to this headline">¶</a></h3>
<p>Currently tested on Ubuntu 18.04.4 LTS and Debian 10 aka Buster.</p>
<ul>
<li><p>Install FreeCAD, e.g. the daily build:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo add-apt-repository ppa:freecad-maintainers/freecad-daily
sudo apt-get update
sudo apt-get install freecad-daily
</pre></div>
</div>
<ul>
<li><p>Install Jupyter Notebook: <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">apt</span> <span class="pre">install</span> <span class="pre">jupyter-notebook</span></code></p></li>
<li><p>Clone this repository: <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">clone</span> <span class="pre">git&#64;github.com:kryptokommunist/Jupyter_FreeCAD.git</span></code></p></li>
<li><p>Link external workbench from this repo to FreeCAD (use correct paths for your install): <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">ln</span> <span class="pre">-s</span> <span class="pre">/home/kryptokommunist/Documents/Jupyter_FreeCAD/Jupyter/</span> <span class="pre">/usr/shared/freecad-daily/Mod/Jupyter</span></code></p></li>
<li><p>Change working directory to this folder and install requirements:
.. code-block:: bash</p>
<blockquote>
<div><p>pip3 install -r requirements.txt</p>
</div></blockquote>
</li>
<li><p>Install pythreejs to the notebook:
.. code-block:: bash</p>
<blockquote>
<div><p>jupyter nbextension install –py –symlink –sys-prefix pythreejs
jupyter nbextension enable –py –sys-prefix pythreejs</p>
</div></blockquote>
</li>
<li><p>Start Jupyter Notebook with <code class="docutils literal notranslate"><span class="pre">jupyter</span> <span class="pre">notebook</span></code></p></li>
<li><p>Check if you can render the <a class="reference external" href="https://github.com/kryptokommunist/Jupyter_FreeCAD/blob/master/FreeCAD%20inside%20Jupyter%20Notebook%20-%20Examples.ipynb">example notebook</a>. It should look somewhat like <a class="reference external" href="https://kryptokommun.ist/google-summer-of-code-2020">this</a>.</p></li>
</ul>
<p>### Development</p>
<p>The relevant file can be found at <cite>``IPythonFreeCADViewer/freecadviewer.py`</cite> &lt;blob/master/IPythonFreeCADViewer/freecadviewer.py&gt;`_. Tools used for development are <code class="docutils literal notranslate"><span class="pre">pylint</span></code> for linting and <code class="docutils literal notranslate"><span class="pre">mypy</span></code> for static type checking. It can be useful to run the code inside the notebook first for faster development iterations.</p>
<p>I will continue to improve the project in the future. You can find the repository <a class="reference external" href="https://github.com/kryptokommunist/Jupyter_FreeCAD">here</a>. If you use the module and encounter any issues or just find it useful, don’t hesitate to post to the <a class="reference external" href="https://forum.freecadweb.org/viewtopic.php?f=8&amp;t=46039">forum thread</a> or let me know with a <a class="reference external" href="https://twitter.com/kryptokommunist">tweet</a> or an issue in the <a class="reference external" href="https://github.com/kryptokommunist/Jupyter_FreeCAD">repository</a>.</p>
</li>
</ul>
<p>Thanks to my mentors <a class="reference external" href="https://forum.freecadweb.org/memberlist.php?mode=viewprofile&amp;u=686">&#64;ickby</a>, <a class="reference external" href="https://twitter.com/thekurtwk">&#64;kkremitzki</a>, <a class="reference external" href="https://twitter.com/yorikvanhavre">&#64;yorik</a> and the entire FreeCAD community for running such an awesome project.</p>
</div>
</div>
</div>
<div class="section" id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="#">IPythonFreeCADViewer</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="#">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, Marcus Ding.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.2.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/index.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>